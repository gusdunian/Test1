<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Angus’ Working Dashboard</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <a class="skip-link" href="#main-content">Skip to main content</a>
    <header class="banner" role="banner">
      <h1>Angus’ Working Dashboard</h1>
      <section class="cloud-panel" aria-label="Cloud sync controls">
        <div class="cloud-controls">
          <input id="cloud-email-input" type="email" placeholder="you@example.com" autocomplete="email" />
          <input id="cloud-password-input" type="password" placeholder="Password" autocomplete="current-password" />
          <div id="cloud-signed-in-display" class="cloud-signed-in-display" hidden>
            <span class="cloud-signed-in-dot" aria-hidden="true"></span>
            <span class="cloud-signed-in-text">Signed in</span>
            <span id="cloud-signed-in-email" class="cloud-signed-in-email">—</span>
          </div>
          <button id="cloud-sign-in-btn" type="button" class="cloud-btn">Sign in</button>
          <button id="cloud-sign-out-btn" type="button" class="cloud-btn" hidden>Sign out</button>
          <button id="cloud-export-btn" type="button" class="cloud-btn" disabled hidden>Export</button>
          <label id="cloud-import-label" class="cloud-btn cloud-import-label" hidden>
            Import
            <input id="cloud-import-input" type="file" accept="application/json,.json" hidden />
          </label>
        </div>
        <div id="cloud-status" class="cloud-status cloud-status-info" role="status" aria-live="polite">Ready</div>
        <div id="cloud-meta" class="cloud-meta" aria-live="polite">
          <span id="cloud-signed-in-as">Signed in as: —</span>
          <span id="cloud-last-synced">Last synced: Never</span>
        </div>
      </section>
    </header>

    <div id="toast-container" class="toast-container" aria-live="polite" aria-atomic="true"></div>

    <main id="main-content" class="container" aria-live="polite">
      <p id="signed-out-message" class="signed-out-message" hidden>Sign in to view your dashboard.</p>
      <section class="columns" aria-label="Action columns">
        <article class="column card" aria-labelledby="general-actions-heading">
          <div class="column-header">
            <h2 id="general-actions-heading">
              <svg class="header-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M4 6h16" />
                <path d="M4 12h8" />
                <path d="M4 18h8" />
                <path d="m14 17 2 2 4-4" />
              </svg>
              <span>General action list</span>
            </h2>
          </div>

          <div class="action-toolbar">
            <form id="general-add-action-form" class="add-action-form" autocomplete="off">
              <label class="visually-hidden" for="general-action-input">New general action description</label>
              <div class="compact-editor-wrap">
                <div id="general-action-input" class="compact-rich-editor" contenteditable="true" role="textbox" aria-multiline="true" data-placeholder="Enter a new action"></div>
                <div class="rtf-toolbar" data-editor-target="general-action-input" role="toolbar" aria-label="General action formatting">
                  <button type="button" data-command="bold" aria-label="Bold">B</button>
                  <button type="button" data-command="italic" aria-label="Italic">I</button>
                  <button type="button" data-command="underline" aria-label="Underline">U</button>
                  <button type="button" data-command="insertUnorderedList" aria-label="Bulleted list">•</button>
                  <button type="button" data-command="insertOrderedList" aria-label="Numbered list">1.</button>
                </div>
              </div>
              <button type="submit" aria-label="Add action">+</button>
            </form>
            <button id="general-clear-completed-btn" type="button" class="subtle-button">CC</button>
          </div>

          <ul id="general-action-list" class="action-list" aria-label="General action items"></ul>
        </article>

        <article class="column card" aria-labelledby="scheduling-heading">
          <div class="column-header">
            <h2 id="scheduling-heading">
              <svg class="header-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <rect x="3" y="4" width="18" height="17" rx="2" ry="2" />
                <path d="M8 2v4" />
                <path d="M16 2v4" />
                <path d="M3 9h18" />
                <path d="M8 13h3" />
                <path d="M13 13h3" />
                <path d="M8 17h3" />
              </svg>
              <span>Scheduling actions</span>
            </h2>
          </div>

          <div class="action-toolbar">
            <form id="scheduling-add-action-form" class="add-action-form" autocomplete="off">
              <label class="visually-hidden" for="scheduling-action-input">New scheduling action description</label>
              <div class="compact-editor-wrap">
                <div id="scheduling-action-input" class="compact-rich-editor" contenteditable="true" role="textbox" aria-multiline="true" data-placeholder="Enter a scheduling action"></div>
                <div class="rtf-toolbar" data-editor-target="scheduling-action-input" role="toolbar" aria-label="Scheduling action formatting">
                  <button type="button" data-command="bold" aria-label="Bold">B</button>
                  <button type="button" data-command="italic" aria-label="Italic">I</button>
                  <button type="button" data-command="underline" aria-label="Underline">U</button>
                  <button type="button" data-command="insertUnorderedList" aria-label="Bulleted list">•</button>
                  <button type="button" data-command="insertOrderedList" aria-label="Numbered list">1.</button>
                </div>
              </div>
              <button type="submit" aria-label="Add scheduling action">+</button>
            </form>
            <button id="scheduling-clear-completed-btn" type="button" class="subtle-button">CC</button>
          </div>

          <ul id="scheduling-action-list" class="action-list" aria-label="Scheduling action items"></ul>
        </article>

        <article class="column card" aria-labelledby="meeting-notes-heading">
          <div class="column-header">
            <h2 id="meeting-notes-heading">
              <svg class="header-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M6 3h9l3 3v15H6z" />
                <path d="M15 3v3h3" />
                <path d="M9 10h6" />
                <path d="M9 14h6" />
                <path d="M9 18h4" />
              </svg>
              <span>Meeting notes</span>
            </h2>
          </div>

          <div class="meeting-toolbar">
            <form id="meeting-add-form" class="meeting-add-form" autocomplete="off">
              <label class="visually-hidden" for="meeting-title-input">Meeting title</label>
              <input id="meeting-title-input" name="title" type="text" maxlength="200" placeholder="Meeting title" required />

              <div class="meeting-date-time-row">
                <label class="visually-hidden" for="meeting-date-input">Meeting date</label>
                <input id="meeting-date-input" name="date" type="date" required />

                <label class="visually-hidden" for="meeting-hour-input">Meeting hour</label>
                <select id="meeting-hour-input" name="hour" required></select>

                <label class="visually-hidden" for="meeting-minute-input">Meeting minutes</label>
                <select id="meeting-minute-input" name="minute" required>
                  <option value="00">00</option>
                  <option value="15">15</option>
                  <option value="30">30</option>
                  <option value="45">45</option>
                </select>
              </div>

              <label class="visually-hidden" for="meeting-notes-editor">Meeting notes</label>
              <div class="rtf-toolbar" data-editor-target="meeting-notes-editor" role="toolbar" aria-label="Meeting notes formatting">
                <button type="button" data-command="bold" aria-label="Bold">B</button>
                <button type="button" data-command="italic" aria-label="Italic">I</button>
                <button type="button" data-command="underline" aria-label="Underline">U</button>
                <button type="button" data-command="insertUnorderedList" aria-label="Bulleted list">•</button>
                <button type="button" data-command="insertOrderedList" aria-label="Numbered list">1.</button>
              </div>
              <div id="meeting-notes-editor" class="meeting-notes-editor" contenteditable="true" role="textbox" aria-multiline="true" data-placeholder="Add notes"></div>
              <button type="submit" aria-label="Add meeting">+</button>
            </form>
          </div>

          <div id="meeting-list" class="meeting-list" aria-live="polite" aria-label="Meeting notes list"></div>
        </article>
      </section>
    </main>

    <div id="action-modal" class="modal" hidden>
      <div id="action-modal-backdrop" class="modal-backdrop"></div>
      <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <button id="modal-close-btn" type="button" class="modal-close" aria-label="Close modal">×</button>
        <h3 id="modal-title">Action details</h3>
        <div id="modal-status" class="modal-status"></div>
        <div class="modal-toolbar">
          <button id="modal-urgency-btn" type="button" class="icon-btn urgent-btn">!</button>
          <span id="modal-urgency-label" class="modal-urgency-label">None</span>
          <div class="rtf-toolbar" data-editor-target="modal-text-input" role="toolbar" aria-label="Action formatting">
            <button type="button" data-command="bold" aria-label="Bold">B</button>
            <button type="button" data-command="italic" aria-label="Italic">I</button>
            <button type="button" data-command="underline" aria-label="Underline">U</button>
            <button type="button" data-command="insertUnorderedList" aria-label="Bulleted list">•</button>
            <button type="button" data-command="insertOrderedList" aria-label="Numbered list">1.</button>
          </div>
          <span class="modal-shortcuts">Ctrl/Cmd+B/I/U, Ctrl/Cmd+Shift+8/7</span>
        </div>
        <div class="modal-body">
          <label class="visually-hidden" for="modal-text-input">Action text</label>
          <div id="modal-text-input" class="modal-editor" contenteditable="true" role="textbox" aria-multiline="true"></div>
        </div>
        <div class="modal-footer">
          <button id="modal-save-btn" type="button" class="subtle-button">Save</button>
        </div>
      </div>
    </div>

    <div id="meeting-big-edit-modal" class="modal" hidden>
      <div id="meeting-big-edit-backdrop" class="modal-backdrop"></div>
      <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="meeting-big-edit-title">
        <button id="meeting-big-edit-close" type="button" class="modal-close" aria-label="Close modal">×</button>
        <h3 id="meeting-big-edit-title">Big edit meeting</h3>
        <form id="meeting-big-edit-form" class="meeting-big-edit-form" autocomplete="off">
          <label class="visually-hidden" for="meeting-big-edit-title-input">Meeting title</label>
          <input id="meeting-big-edit-title-input" name="title" type="text" maxlength="200" required />

          <div class="meeting-edit-datetime">
            <label class="visually-hidden" for="meeting-big-edit-date-input">Meeting date</label>
            <input id="meeting-big-edit-date-input" name="date" type="date" required />

            <label class="visually-hidden" for="meeting-big-edit-hour-input">Meeting hour</label>
            <select id="meeting-big-edit-hour-input" name="hour" required></select>

            <label class="visually-hidden" for="meeting-big-edit-minute-input">Meeting minute</label>
            <select id="meeting-big-edit-minute-input" name="minute" required>
              <option value="00">00</option>
              <option value="15">15</option>
              <option value="30">30</option>
              <option value="45">45</option>
            </select>
          </div>

          <div class="rtf-toolbar" data-editor-target="meeting-big-edit-notes-editor" role="toolbar" aria-label="Big edit meeting notes formatting">
            <button type="button" data-command="bold" aria-label="Bold">B</button>
            <button type="button" data-command="italic" aria-label="Italic">I</button>
            <button type="button" data-command="underline" aria-label="Underline">U</button>
            <button type="button" data-command="insertUnorderedList" aria-label="Bulleted list">•</button>
            <button type="button" data-command="insertOrderedList" aria-label="Numbered list">1.</button>
          </div>

          <label class="visually-hidden" for="meeting-big-edit-notes-editor">Meeting notes</label>
          <div id="meeting-big-edit-notes-editor" class="modal-editor" contenteditable="true" role="textbox" aria-multiline="true"></div>

          <div class="modal-footer">
            <button type="submit" class="subtle-button">Save</button>
          </div>
        </form>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
  </body>
</html>
